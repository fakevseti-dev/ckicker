<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRUST TAP ‚Ä¢ CRYPTO WALLET GAME</title>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram Web App -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background: #030712;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
        }

        .game-container {
            max-width: 460px;
            width: 100%;
            background: linear-gradient(145deg, #0f1a2f, #030a18);
            border-radius: 3rem 3rem 2rem 2rem;
            padding: 1.8rem 1.5rem 2rem 1.5rem;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.9), 0 0 0 1px #1e3a5f inset, 0 0 30px rgba(59, 130, 246, 0.2);
            color: #ffffff;
            position: relative;
            overflow: hidden;
        }

        .handwritten-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.25;
        }

        .handwritten-bg span {
            position: absolute;
            font-size: 1.2rem;
            font-weight: 300;
            color: #3b82f6;
            font-family: 'Caveat', 'Kalam', 'Comic Sans MS', cursive, sans-serif;
            transform: rotate(calc(var(--r) * 1deg));
            animation: floatT 8s infinite alternate;
            animation-delay: calc(var(--d) * -1s);
            text-shadow: 0 0 5px #3b82f6;
            opacity: 0.6;
            user-select: none;
        }

        @keyframes floatT {
            0% { transform: translateY(0) rotate(calc(var(--r) * 1deg)) scale(1); opacity: 0.4; }
            50% { transform: translateY(-10px) rotate(calc(var(--r) * 1deg)) scale(1.1); opacity: 0.7; }
            100% { transform: translateY(10px) rotate(calc(var(--r) * 1deg)) scale(0.9); opacity: 0.5; }
        }

        .game-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 50%, transparent 30%, rgba(3, 7, 18, 0.7) 90%);
            pointer-events: none;
            z-index: 0;
        }

        .game-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -20%;
            width: 140%;
            height: 140%;
            background: radial-gradient(circle at 30% 30%, rgba(59, 130, 246, 0.15), transparent 70%);
            z-index: 0;
            pointer-events: none;
        }

        .top-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(20, 40, 70, 0.7);
            backdrop-filter: blur(10px);
            padding: 0.9rem 1.26rem;
            border-radius: 2.7rem;
            border: 1px solid rgba(59, 130, 246, 0.5);
            margin-bottom: 1.2rem;
            box-shadow: 0 7.18px 0 #0a1a2f, 0 8.97px 17.94px rgba(0, 0, 0, 0.4), 0 0 13.45px rgba(59, 130, 246, 0.3);
            position: relative;
            z-index: 2;
            width: 78%;
            margin-left: auto;
            margin-right: auto;
        }

        .balance-box {
            display: flex;
            align-items: center;
            gap: 0.54rem;
        }

        .usdt-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28.75px;
            height: 28.75px;
            background: linear-gradient(145deg, #26a17b, #1a7d5c);
            border-radius: 50%;
            font-weight: 700;
            font-size: 0.8rem;
            color: white;
            box-shadow: 0 0 13.45px #26a17b, 0 3.59px 0 #0d4d3a;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .usdt-text {
            font-size: 1.08rem;
            font-weight: 600;
            color: #ffffff;
            text-shadow: 0 0 8.97px #3b82f6;
            letter-spacing: 0.45px;
        }

        .balance-amount {
            font-size: 0.9rem;
            font-weight: 600;
            color: #ffffff;
            letter-spacing: 0.45px;
            text-shadow: 0 0 8.97px #3b82f6;
            margin-left: -0.18rem;
        }

        .balance-amount::after {
            content: ' USDT';
            color: #aaccff;
            font-weight: 400;
            font-size: 0.7rem;
            margin-left: 2px;
        }

        .energy-panel {
            background: rgba(20, 40, 70, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 1.12rem;
            padding: 0.5rem 0.87rem;
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid rgba(59, 130, 246, 0.5);
            box-shadow: 0 3.72px 0 #0a1a2f, 0 6.2px 12.4px rgba(0, 0, 0, 0.4);
            position: relative;
            z-index: 2;
            width: 90%;
            margin-left: auto;
            margin-right: auto;
        }

        .energy-left {
            display: flex;
            align-items: center;
            gap: 0.19rem;
        }

        .bolt {
            font-size: 0.87rem;
            color: #ffffff;
            filter: drop-shadow(0 0 5px #ffffff);
        }

        .energy-count {
            font-weight: 700;
            font-size: 0.81rem;
            color: #ffffff;
            text-shadow: 0 0 9.3px #ffffff, 0 0 18.6px #3b82f6;
        }

        .energy-bar-bg {
            width: 100px;
            height: 4px;
            background: rgba(10, 20, 40, 0.8);
            border-radius: 10px;
            overflow: hidden;
            margin: 0 8px;
            box-shadow: inset 0 1.24px 3.1px rgba(0, 0, 0, 0.5);
        }

        .energy-bar-fill {
            height: 100%;
            width: 80%;
            background: linear-gradient(90deg, #ffffff, #aaccff, #3b82f6);
            border-radius: 10px;
            box-shadow: 0 0 9.3px #ffffff, 0 0 18.6px #3b82f6;
            transition: width 0.3s ease;
        }

        .regen-tip {
            color: #ffffff;
            font-size: 0.6rem;
            text-shadow: 0 0 6.2px #ffffff, 0 0 12.4px #3b82f6;
        }

        .tap-value {
            color: #aaccff;
            font-size: 0.7rem;
            text-align: center;
            margin: 0.2rem 0 0.5rem;
        }

        .tap-zone {
            display: flex;
            justify-content: center;
            margin: 0.5rem 0 1.2rem;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
            position: relative;
            filter: drop-shadow(0 20px 25px rgba(0, 0, 0, 0.8));
            z-index: 5;
        }

        .big-coin {
            width: 220px;
            height: 220px;
            background: radial-gradient(circle at 30% 30%, #2b6ed7, #0a2a6a, #031030);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.2s cubic-bezier(0.2, 0.9, 0.3, 1.2);
            border: 2px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 30px 30px -10px rgba(0, 0, 0, 0.8), 0 0 0 2px rgba(59, 130, 246, 0.3) inset, 0 0 40px #3b82f6, 0 0 80px rgba(59, 130, 246, 0.4);
            animation: coinGlow 3s infinite alternate, modernFloat 5s infinite ease-in-out;
        }

        @keyframes coinGlow {
            0% { box-shadow: 0 30px 30px -10px rgba(0, 0, 0, 0.8), 0 0 0 2px rgba(59, 130, 246, 0.3) inset, 0 0 30px #3b82f6, 0 0 60px rgba(59, 130, 246, 0.3); }
            100% { box-shadow: 0 30px 40px -10px rgba(0, 0, 0, 0.9), 0 0 0 3px rgba(59, 130, 246, 0.6) inset, 0 0 60px #3b82f6, 0 0 100px rgba(59, 130, 246, 0.7); }
        }

        .big-coin::before {
            content: '';
            position: absolute;
            inset: 10px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.1) 60%, transparent 80%);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: inset 0 10px 30px rgba(255, 255, 255, 0.4);
            z-index: 1;
            backdrop-filter: blur(4px);
        }

        .big-coin::after {
            content: '';
            position: absolute;
            inset: -15px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(59, 130, 246, 0.7), transparent 70%);
            opacity: 0.6;
            filter: blur(20px);
            z-index: -1;
            transition: opacity 0.3s ease;
            animation: outerGlow 3s infinite alternate;
        }

        @keyframes outerGlow {
            0% { opacity: 0.5; filter: blur(20px); }
            100% { opacity: 0.8; filter: blur(25px); }
        }

        @keyframes modernFloat {
            0% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-5px) rotate(1deg); }
            75% { transform: translateY(5px) rotate(-1deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        .tap-zone:active .big-coin {
            transform: scale(0.92) translateY(5px);
            box-shadow: 0 15px 20px -5px rgba(0, 0, 0, 0.9), 0 0 0 3px rgba(59, 130, 246, 0.8) inset, 0 0 70px #3b82f6, 0 0 120px rgba(59, 130, 246, 0.9);
        }

        .trust-logo {
            position: relative;
            z-index: 10;
            width: 140px;
            height: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            transform: translateY(0);
            transition: transform 0.2s ease;
        }

        .tap-zone:active .trust-logo {
            transform: translateY(3px);
        }

        .letter-t {
            font-size: 8rem;
            font-weight: 900;
            color: #ffffff;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.9), 0 0 60px rgba(255, 255, 255, 0.6), 0 0 90px #3b82f6, 0 0 120px #3b82f6, 5px 5px 0 rgba(0, 0, 0, 0.3);
            line-height: 1;
            font-family: 'Inter', 'Arial Black', sans-serif;
            transform: scale(1);
            animation: letterSuperPulse 2.5s infinite alternate;
            letter-spacing: -5px;
        }

        @keyframes letterSuperPulse {
            0% { text-shadow: 0 0 30px rgba(255, 255, 255, 0.9), 0 0 60px rgba(255, 255, 255, 0.6), 0 0 90px #3b82f6, 0 0 120px #3b82f6; transform: scale(1); }
            100% { text-shadow: 0 0 40px rgba(255, 255, 255, 1), 0 0 80px rgba(255, 255, 255, 0.8), 0 0 120px #3b82f6, 0 0 160px #3b82f6; transform: scale(1.05); }
        }

        .floating-container {
            position: relative;
            display: flex;
            justify-content: center;
            height: 40px;
            margin-top: -10px;
            z-index: 15;
        }

        .floating-value {
            position: absolute;
            font-weight: 800;
            font-size: 1.8rem;
            color: #ffffff;
            text-shadow: 0 0 30px #3b82f6, 0 0 60px #ffffff, 0 5px 15px #000000;
            pointer-events: none;
            animation: modernFloatUp 0.9s ease-out forwards;
            z-index: 20;
        }

        .floating-value::after {
            content: ' USDT';
            font-size: 0.9rem;
            color: #aaccff;
        }

        @keyframes modernFloatUp {
            0% { opacity: 1; transform: translateY(0) scale(0.8); filter: blur(0); }
            50% { opacity: 0.9; transform: translateY(-40px) scale(1.2); filter: blur(1px); }
            100% { opacity: 0; transform: translateY(-80px) scale(1.6); filter: blur(3px); }
        }

        .top-ref-bar {
            background: rgba(20, 40, 70, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(59, 130, 246, 0.5);
            border-radius: 1.12rem;
            padding: 0.7rem 1.2rem;
            margin: 1rem 0 1rem;
            box-shadow: 0 3.72px 0 #0a1a2f, 0 6.2px 12.4px rgba(0, 0, 0, 0.4), 0 0 12px rgba(59, 130, 246, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: all 0.1s ease;
        }

        .top-ref-bar:hover {
            transform: translateY(-1px);
            box-shadow: 0 4.72px 0 #0a1a2f, 0 7px 14px rgba(0, 0, 0, 0.5), 0 0 15px rgba(59, 130, 246, 0.3);
        }

        .top-ref-bar:active {
            transform: translateY(3px);
            box-shadow: 0 1px 0 #0a1a2f, 0 6.2px 12.4px rgba(0, 0, 0, 0.4), 0 0 15px rgba(59, 130, 246, 0.3);
        }

        .top-ref-left {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .top-ref-left span {
            font-size: 1rem;
            color: #ffffff;
            filter: drop-shadow(0 0 5px #3b82f6);
            font-weight: 500;
        }

        .top-ref-left span:first-child {
            font-size: 1.2rem;
        }

        .top-ref-right {
            background: rgba(37, 99, 235, 0.4);
            backdrop-filter: blur(5px);
            padding: 0.3rem 0.8rem;
            border-radius: 1rem;
            font-weight: 600;
            font-size: 0.9rem;
            color: #ffffff;
            border: 1px solid rgba(59, 130, 246, 0.6);
            box-shadow: 0 0 10px #3b82f6;
        }

        .feature-grid {
            display: flex;
            gap: 0.5rem;
            margin: 0.8rem 0 1.2rem;
            justify-content: center;
        }

        .feature-card {
            background: rgba(20, 40, 70, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(59, 130, 246, 0.5);
            border-radius: 1.12rem;
            padding: 0.7rem 1rem;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 3.72px 0 #0a1a2f, 0 6.2px 12.4px rgba(0, 0, 0, 0.4), 0 0 12px rgba(59, 130, 246, 0.2);
            cursor: pointer;
            transition: all 0.1s ease;
        }

        .feature-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 4.72px 0 #0a1a2f, 0 7px 14px rgba(0, 0, 0, 0.5), 0 0 15px rgba(59, 130, 246, 0.3);
        }

        .feature-card:active {
            transform: translateY(3px);
            box-shadow: 0 1px 0 #0a1a2f, 0 6.2px 12.4px rgba(0, 0, 0, 0.4), 0 0 15px rgba(59, 130, 246, 0.3);
        }

        .card-left {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
        }

        .card-icon svg {
            width: 22px;
            height: 22px;
            filter: brightness(0) invert(1);
        }

        .card-label {
            font-size: 0.9rem;
            color: #aaccff;
            text-shadow: 0 0 3px #3b82f6;
            font-weight: 500;
        }

        .card-value {
            font-weight: 600;
            font-size: 0.9rem;
            color: #ffffff;
            text-shadow: 0 0 6px #3b82f6;
        }

        .tasks-section, .upgrade-section {
            background: rgba(15, 25, 45, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 1.12rem;
            padding: 1rem 0.8rem;
            margin: 1rem 0;
            border: 1px solid rgba(59, 130, 246, 0.5);
            box-shadow: 0 3.72px 0 #0a1a2f, 0 6.2px 12.4px rgba(0, 0, 0, 0.4), inset 0 0 12px rgba(59, 130, 246, 0.2);
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            padding-left: 0.3rem;
        }

        .section-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
        }

        .section-icon svg {
            width: 24px;
            height: 24px;
            filter: brightness(0) invert(1);
        }

        .section-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 0 10px #3b82f6;
        }

        .upgrade-item, .task-item {
            background: rgba(10, 20, 35, 0.8);
            border-radius: 0.9rem;
            padding: 0.7rem 0.8rem;
            margin-bottom: 0.6rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid rgba(59, 130, 246, 0.3);
            box-shadow: 0 2.48px 0 #0a1a2f, 0 4px 8px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.1s ease;
        }

        .upgrade-item:hover, .task-item:hover {
            transform: translateY(-1px);
            box-shadow: 0 3.48px 0 #0a1a2f, 0 5px 10px rgba(0, 0, 0, 0.4), 0 0 10px rgba(59, 130, 246, 0.3);
        }

        .upgrade-item:active, .task-item:active {
            transform: translateY(2px);
            box-shadow: 0 1px 0 #0a1a2f, 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .item-left {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            flex: 1;
        }

        .item-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
        }

        .item-icon svg {
            width: 24px;
            height: 24px;
            filter: brightness(0) invert(1);
        }

        .item-info {
            display: flex;
            flex-direction: column;
        }

        .item-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: #ffffff;
            text-shadow: 0 0 3px #3b82f6;
        }

        .item-level {
            font-size: 0.7rem;
            color: #aaccff;
            margin-top: 0.1rem;
        }

        .item-right {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .item-value {
            font-weight: 600;
            font-size: 0.9rem;
            color: #ffffff;
            text-shadow: 0 0 6px #3b82f6;
            white-space: nowrap;
        }

        .item-button {
            background: #3b82f6;
            color: white;
            font-weight: 600;
            font-size: 0.8rem;
            padding: 0.4rem 0.8rem;
            border-radius: 1.5rem;
            border: none;
            box-shadow: 0 3px 0 #1e3a8a, 0 3px 8px rgba(59, 130, 246, 0.6);
            cursor: pointer;
            transition: all 0.1s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            min-width: 70px;
        }

        .item-button:active {
            transform: translateY(2px);
            box-shadow: 0 1px 0 #1e3a8a, 0 3px 8px rgba(59, 130, 246, 0.6);
        }

        .task-reward {
            font-size: 0.8rem;
            font-weight: 600;
            color: #f5c45e;
            text-shadow: 0 0 8px #f5c45e;
        }

        .task-special {
            background: linear-gradient(145deg, #2a4a8a, #1a3a6a);
            border: 1px solid #3b82f6;
        }

        .notice {
            text-align: center;
            font-size: 0.7rem;
            color: #aaccff;
            margin-top: 1.5rem;
            border-top: 1px dashed rgba(59, 130, 246, 0.3);
            padding-top: 0.8rem;
            text-shadow: 0 0 5px #3b82f6;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="game-container">
        <div class="handwritten-bg" id="handwrittenBg"></div>

        <div class="top-bar">
            <div class="balance-box">
                <span class="usdt-icon">‚ÇÆ</span>
                <span class="usdt-text">USDT</span>
                <span class="balance-amount" id="balanceDisplay">10.500000</span>
            </div>
        </div>

        <div class="energy-panel">
            <div class="energy-left">
                <span class="bolt">‚ö°</span>
                <span class="energy-count" id="energyDisplay">1000</span>
            </div>
            <div class="energy-bar-bg">
                <div class="energy-bar-fill" id="energyBarFill" style="width: 100%;"></div>
            </div>
            <span class="regen-tip" id="regenTip">+1/—Å–µ–∫</span>
        </div>

        <div class="tap-value" id="tapValueDisplay">0.000200 USDT –∑–∞ —Ç–∞–ø</div>

        <div class="tap-zone" id="tapButton">
            <div class="big-coin">
                <div class="trust-logo">
                    <span class="letter-t">T</span>
                </div>
            </div>
        </div>

        <div class="floating-container" id="floatingContainer"></div>

        <div class="top-ref-bar" id="topRefBar">
            <div class="top-ref-left">
                <span>üíé</span>
                <span>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞</span>
            </div>
            <div class="top-ref-right">+500 ‚ö° +10%</div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–ª—è Telegram -->
        <div class="top-ref-bar" id="saveProgressBtn" style="margin-top: 0.5rem;">
            <div class="top-ref-left">
                <span>üíæ</span>
                <span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</span>
            </div>
            <div class="top-ref-right">‚ÜóÔ∏è</div>
        </div>

        <div class="feature-grid">
            <div class="feature-card" id="rankCard">
                <div class="card-left">
                    <span class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L15 8L22 9L17 14L18 21L12 17.5L6 21L7 14L2 9L9 8L12 2Z" fill="white"/>
                        </svg>
                    </span>
                    <span class="card-label">–†–∞–Ω–≥</span>
                </div>
                <span class="card-value">–±—Ä–æ–Ω–∑–∞</span>
            </div>
            <div class="feature-card" id="referralsCard">
                <div class="card-left">
                    <span class="card-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16 11C17.66 11 19 9.66 19 8C19 6.34 17.66 5 16 5C14.34 5 13 6.34 13 8C13 9.66 14.34 11 16 11ZM8 11C9.66 11 11 9.66 11 8C11 6.34 9.66 5 8 5C6.34 5 5 6.34 5 8C5 9.66 6.34 11 8 11ZM8 13C5.79 13 2 14.79 2 17V19H22V17C22 14.79 18.21 13 16 13C14.55 13 12.81 13.55 12 14.38C11.19 13.55 9.45 13 8 13Z" fill="white"/>
                        </svg>
                    </span>
                    <span class="card-label">–†–µ—Ñ–µ—Ä–∞–ª—ã</span>
                </div>
                <span class="card-value" id="refCount">0</span>
            </div>
        </div>

        <!-- –ë–õ–û–ö –£–õ–£–ß–®–ï–ù–ò–Ø -->
        <div class="upgrade-section">
            <div class="section-header">
                <span class="section-icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="10" stroke="white" stroke-width="2"/>
                        <path d="M12 6V12L16 14" stroke="white" stroke-width="2"/>
                    </svg>
                </span>
                <span class="section-title">–£–ª—É—á—à–µ–Ω–∏—è</span>
            </div>
            
            <div class="upgrade-item" id="upgradeDamage">
                <div class="item-left">
                    <span class="item-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="10" stroke="white" stroke-width="2"/>
                            <path d="M12 6V12L16 14" stroke="white" stroke-width="2"/>
                        </svg>
                    </span>
                    <div class="item-info">
                        <span class="item-name">–£—Ä–æ–Ω –∑–∞ –∫–ª–∏–∫</span>
                        <span class="item-level" id="damageLevel">—É—Ä. 1</span>
                    </div>
                </div>
                <div class="item-right">
                    <span class="item-value" id="damageValue">1.0x</span>
                    <button class="item-button upgrade-btn" data-type="damage">–£–ª—É—á—à–∏—Ç—å</button>
                </div>
            </div>
            
            <div class="upgrade-item" id="upgradeCapacity">
                <div class="item-left">
                    <span class="item-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="6" y="2" width="12" height="20" rx="2" stroke="white" stroke-width="2"/>
                            <rect x="10" y="6" width="4" height="4" fill="white"/>
                        </svg>
                    </span>
                    <div class="item-info">
                        <span class="item-name">–Å–º–∫–æ—Å—Ç—å —ç–Ω–µ—Ä–≥–∏–∏</span>
                        <span class="item-level" id="capacityLevel">—É—Ä. 1</span>
                    </div>
                </div>
                <div class="item-right">
                    <span class="item-value" id="capacityValue">1000</span>
                    <button class="item-button upgrade-btn" data-type="capacity">–£–ª—É—á—à–∏—Ç—å</button>
                </div>
            </div>
            
            <div class="upgrade-item" id="upgradeRecovery">
                <div class="item-left">
                    <span class="item-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13 2L3 14H12L11 22L21 10H12L13 2Z" fill="white"/>
                        </svg>
                    </span>
                    <div class="item-info">
                        <span class="item-name">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</span>
                        <span class="item-level" id="recoveryLevel">—É—Ä. 1</span>
                    </div>
                </div>
                <div class="item-right">
                    <span class="item-value" id="recoveryValue">1/—Å–µ–∫</span>
                    <button class="item-button upgrade-btn" data-type="recovery">–£–ª—É—á—à–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –ë–õ–û–ö –ó–ê–î–ê–ù–ò–Ø -->
        <div class="tasks-section">
            <div class="section-header">
                <span class="section-icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="3" y="4" width="18" height="16" rx="2" stroke="white" stroke-width="2"/>
                        <path d="M8 10L11 13L16 7" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </span>
                <span class="section-title">–ó–∞–¥–∞–Ω–∏—è</span>
            </div>
            
            <div class="task-item" id="taskSubscribe">
                <div class="item-left">
                    <span class="item-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="8" r="4" stroke="white" stroke-width="2"/>
                            <path d="M4 20V18C4 14.5 7 12 12 12C17 12 20 14.5 20 18V20" stroke="white" stroke-width="2"/>
                        </svg>
                    </span>
                    <span class="item-name">–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª</span>
                </div>
                <div class="item-right">
                    <span class="task-reward" style="display: none;">0.30</span>
                    <button class="item-button task-btn" data-task="subscribe">–°—Ç–∞—Ä—Ç</button>
                </div>
            </div>
            
            <div class="task-item" id="taskAd">
                <div class="item-left">
                    <span class="item-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="2" y="6" width="20" height="12" rx="2" stroke="white" stroke-width="2"/>
                            <circle cx="17" cy="12" r="2" fill="white"/>
                        </svg>
                    </span>
                    <span class="item-name">–°–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∫–ª–∞–º—É</span>
                </div>
                <div class="item-right">
                    <span class="task-reward" style="display: none;">0.10</span>
                    <button class="item-button task-btn" data-task="ad">–°–º–æ—Ç—Ä–µ—Ç—å</button>
                </div>
            </div>
            
            <div class="task-item" id="taskFutures">
                <div class="item-left">
                    <span class="item-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 17L9 11L13 15L21 7" stroke="white" stroke-width="2" stroke-linecap="round"/>
                            <path d="M3 7H21" stroke="white" stroke-width="2"/>
                        </svg>
                    </span>
                    <span class="item-name">–ö–≤–µ—Å—Ç –ø–æ —Ñ—å—é—á–µ—Ä—Å–∞–º</span>
                </div>
                <div class="item-right">
                    <span class="task-reward" style="display: none;">20.00</span>
                    <button class="item-button task-btn" data-task="futures">–°—Ç–∞—Ä—Ç</button>
                </div>
            </div>
            
            <div class="task-item task-special" id="taskBlum">
                <div class="item-left">
                    <span class="item-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="8" stroke="white" stroke-width="2"/>
                            <circle cx="12" cy="8" r="1" fill="white"/>
                            <circle cx="16" cy="12" r="1" fill="white"/>
                            <circle cx="8" cy="12" r="1" fill="white"/>
                            <path d="M8 16L12 18L16 16" stroke="white" stroke-width="2"/>
                        </svg>
                    </span>
                    <span class="item-name">–ö–≤–µ—Å—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</span>
                </div>
                <div class="item-right">
                    <span class="task-reward" style="display: none;">0.00</span>
                    <button class="item-button task-btn" data-task="blum" disabled style="opacity: 0.5;">–°–∫–æ—Ä–æ</button>
                </div>
            </div>
        </div>

        <div class="notice">
            ‚ö° Trust Wallet ¬∑ Tap to earn
        </div>
    </div>

    <script>
        (function() {
            // ========== –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–Ø –ï–ö–û–ù–û–ú–Ü–ö–ò ==========
            const ECONOMY = {
                usdt: {
                    decimals: 6,
                    baseTapValue: 0.0002
                },
                energy: {
                    baseCapacity: 1000,
                    baseRecovery: 1,
                    tapCost: 1
                },
                upgrades: {
                    damage: [1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0, 6.0],
                    capacity: [1.0, 1.3, 1.6, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0],
                    recovery: [1.0, 1.3, 1.6, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0]
                },
                upgradePrices: {
                    damage: [2.5, 5.0, 10.0, 20.0, 40.0, 80.0, 160.0, 320.0, 640.0, 1280.0],
                    capacity: [3.0, 6.0, 12.0, 24.0, 48.0, 96.0, 192.0, 384.0, 768.0, 1536.0],
                    recovery: [1.5, 3.0, 6.0, 12.0, 24.0, 48.0, 96.0, 192.0, 384.0, 768.0]
                },
                tasks: {
                    subscription: 0.30,
                    adReward: 0.10,
                    futuresReward: 20.00,
                    referralBonusEnergy: 500
                }
            };

            // ========== –°–¢–ê–ù –ì–†–ê–í–¶–Ø ==========
            let player = {
                balance: 10.500000,
                
                damageLevel: 1,
                capacityLevel: 1,
                recoveryLevel: 1,
                
                energy: ECONOMY.energy.baseCapacity,
                referrals: 0
            };

            // ========== TELEGRAM WEB APP ==========
            let tg = null;
            if (window.Telegram && window.Telegram.WebApp) {
                tg = window.Telegram.WebApp;
                tg.ready();
                tg.expand();
                tg.disableVerticalSwipes();
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç–∞ –ø–æ–¥ —Ç–µ–º—É Telegram
                tg.setHeaderColor('#030712');
                tg.setBackgroundColor('#030712');
                
                console.log('‚úÖ Telegram Web App –ø–æ–¥–∫–ª—é—á–µ–Ω');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                if (tg.initDataUnsafe?.user) {
                    const user = tg.initDataUnsafe.user;
                    console.log(`üëã –ü—Ä–∏–≤–µ—Ç, ${user.first_name || '–∏–≥—Ä–æ–∫'}!`);
                }
            }

            // ========== –î–û–ü–û–ú–Ü–ñ–ù–Ü –§–£–ù–ö–¶–Ü–á ==========
            function formatUSDT(value) {
                return parseFloat(value).toFixed(6);
            }

            function getCurrentTapValue() {
                const multiplier = ECONOMY.upgrades.damage[player.damageLevel - 1];
                return (ECONOMY.usdt.baseTapValue * multiplier).toFixed(6);
            }

            function getCurrentCapacity() {
                const multiplier = ECONOMY.upgrades.capacity[player.capacityLevel - 1];
                return Math.floor(ECONOMY.energy.baseCapacity * multiplier);
            }

            function getCurrentRecovery() {
                const multiplier = ECONOMY.upgrades.recovery[player.recoveryLevel - 1];
                return ECONOMY.energy.baseRecovery * multiplier;
            }

            function getUpgradePrice(type) {
                const level = player[`${type}Level`];
                if (level >= 10) return null;
                return ECONOMY.upgradePrices[type][level - 1];
            }

            // ========== –û–ù–û–í–õ–ï–ù–ù–Ø –Ü–ù–¢–ï–†–§–ï–ô–°–£ ==========
            function updateUI() {
                const balanceEl = document.getElementById('balanceDisplay');
                const energyEl = document.getElementById('energyDisplay');
                const energyBarFill = document.getElementById('energyBarFill');
                const regenTip = document.getElementById('regenTip');
                const tapValueDisplay = document.getElementById('tapValueDisplay');
                const refCountEl = document.getElementById('refCount');
                
                const damageValue = document.getElementById('damageValue');
                const damageLevel = document.getElementById('damageLevel');
                const capacityValue = document.getElementById('capacityValue');
                const capacityLevel = document.getElementById('capacityLevel');
                const recoveryValue = document.getElementById('recoveryValue');
                const recoveryLevel = document.getElementById('recoveryLevel');
                
                // –ë–∞–ª–∞–Ω—Å
                balanceEl.textContent = formatUSDT(player.balance);
                
                // –ï–Ω–µ—Ä–≥—ñ—è
                const maxEnergy = getCurrentCapacity();
                energyEl.textContent = Math.floor(player.energy);
                energyBarFill.style.width = `${(player.energy / maxEnergy) * 100}%`;
                regenTip.textContent = `+${getCurrentRecovery().toFixed(1)}/—Å–µ–∫`;
                
                // –ó–Ω–∞—á–µ–Ω–Ω—è —Ç–∞–ø–∞
                tapValueDisplay.textContent = `${getCurrentTapValue()} USDT –∑–∞ —Ç–∞–ø`;
                
                // –†–µ—Ñ–µ—Ä–∞–ª–∏
                refCountEl.textContent = player.referrals;
                
                // –ê–ø–≥—Ä–µ–π–¥–∏
                damageValue.textContent = `${ECONOMY.upgrades.damage[player.damageLevel-1].toFixed(1)}x`;
                damageLevel.textContent = `—É—Ä. ${player.damageLevel}`;
                
                capacityValue.textContent = getCurrentCapacity();
                capacityLevel.textContent = `—É—Ä. ${player.capacityLevel}`;
                
                recoveryValue.textContent = `${getCurrentRecovery().toFixed(1)}/—Å–µ–∫`;
                recoveryLevel.textContent = `—É—Ä. ${player.recoveryLevel}`;
            }

            // ========== –ü–û–ö–ê–ó FLOATING ==========
            function showFloating(text, color) {
                const container = document.getElementById('floatingContainer');
                const div = document.createElement('div');
                div.className = 'floating-value';
                div.textContent = text;
                div.style.color = color;
                div.style.left = '50%';
                div.style.transform = 'translateX(-50%)';
                div.style.bottom = '0px';
                container.appendChild(div);
                setTimeout(() => div.remove(), 800);
            }

            // ========== –ü–û–ö–ê–ó –ü–û–í–Ü–î–û–ú–õ–ï–ù–¨ (–ê–î–ê–ü–¢–ò–í –î–õ–Ø TELEGRAM) ==========
            function showMessage(message, isSuccess = true) {
                if (tg) {
                    tg.showAlert(message);
                } else {
                    alert(message);
                }
            }

            // ========== –û–ë–†–û–ë–ù–ò–ö –¢–ê–ü–ê ==========
            function handleTap() {
                if (player.energy < ECONOMY.energy.tapCost) {
                    showFloating('‚ö° –ù–µ—Ç —ç–Ω–µ—Ä–≥–∏–∏', '#ffa38b');
                    return;
                }
                
                const tapValue = parseFloat(getCurrentTapValue());
                
                player.energy -= ECONOMY.energy.tapCost;
                player.balance = parseFloat((player.balance + tapValue).toFixed(6));
                
                showFloating(`+${tapValue.toFixed(6)}`, '#3b82f6');
                
                if (navigator.vibrate) navigator.vibrate(20);
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º Haptic Feedback –≤ Telegram
                if (tg) {
                    tg.HapticFeedback.impactOccurred('light');
                }
                
                updateUI();
            }

            // ========== –§–£–ù–ö–¶–Ü–Ø –ü–û–ö–£–ü–ö–ò –ê–ü–ì–†–ï–ô–î–£ ==========
            function purchaseUpgrade(type) {
                const currentLevel = player[`${type}Level`];
                
                if (currentLevel >= 10) {
                    showMessage('‚ùå –î–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å', false);
                    return;
                }
                
                const price = ECONOMY.upgradePrices[type][currentLevel - 1];
                
                if (player.balance < price) {
                    const needed = (price - player.balance).toFixed(2);
                    showMessage(`‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ USDT. –ù—É–∂–Ω–æ –µ—â–µ ${needed} USDT`, false);
                    return;
                }
                
                // –ü–æ–∫–∞–∑—É—î–º–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
                if (tg) {
                    tg.showConfirm(`‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–∫—É–ø–∫—É\n–£—Ä–æ–≤–µ–Ω—å ${currentLevel} ‚Üí ${currentLevel + 1}\n–°—Ç–æ–∏–º–æ—Å—Ç—å: ${price.toFixed(2)} USDT`, (confirmed) => {
                        if (confirmed) {
                            player.balance = parseFloat((player.balance - price).toFixed(6));
                            player[`${type}Level`]++;
                            
                            if (type === 'capacity') {
                                player.energy = getCurrentCapacity(); // –ó–∞–ø–æ–≤–Ω—é—î–º–æ –µ–Ω–µ—Ä–≥—ñ—é
                            }
                            
                            showFloating('‚úÖ –£–ª—É—á—à–µ–Ω–æ', '#4ade80');
                            updateUI();
                            
                            // Haptic feedback
                            tg.HapticFeedback.notificationOccurred('success');
                        }
                    });
                } else {
                    const confirmPurchase = confirm(`‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–∫—É–ø–∫—É\n–£—Ä–æ–≤–µ–Ω—å ${currentLevel} ‚Üí ${currentLevel + 1}\n–°—Ç–æ–∏–º–æ—Å—Ç—å: ${price.toFixed(2)} USDT\n–í–∞—à –±–∞–ª–∞–Ω—Å: ${player.balance.toFixed(2)} USDT`);
                    
                    if (confirmPurchase) {
                        player.balance = parseFloat((player.balance - price).toFixed(6));
                        player[`${type}Level`]++;
                        
                        if (type === 'capacity') {
                            player.energy = getCurrentCapacity(); // –ó–∞–ø–æ–≤–Ω—é—î–º–æ –µ–Ω–µ—Ä–≥—ñ—é
                        }
                        
                        showFloating('‚úÖ –£–ª—É—á—à–µ–Ω–æ', '#4ade80');
                        updateUI();
                    }
                }
            }

            // ========== –ó–ê–í–î–ê–ù–ù–Ø ==========
            function handleTaskSubscribe() {
                player.balance = parseFloat((player.balance + ECONOMY.tasks.subscription).toFixed(6));
                showFloating(`+${ECONOMY.tasks.subscription.toFixed(2)}`, '#f5c45e');
                updateUI();
                showMessage('‚úÖ –í—ã –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª! +0.30 USDT');
                
                if (tg) tg.HapticFeedback.notificationOccurred('success');
            }

            function handleTaskAd() {
                player.balance = parseFloat((player.balance + ECONOMY.tasks.adReward).toFixed(6));
                showFloating(`+${ECONOMY.tasks.adReward.toFixed(2)}`, '#f5c45e');
                updateUI();
                showMessage('‚úÖ –†–µ–∫–ª–∞–º–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–∞! +0.10 USDT');
                
                if (tg) tg.HapticFeedback.notificationOccurred('success');
            }

            function handleTaskFutures() {
                player.balance = parseFloat((player.balance + ECONOMY.tasks.futuresReward).toFixed(6));
                showFloating(`+20.00`, '#f5c45e');
                updateUI();
                showMessage('‚úÖ –ö–≤–µ—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω! +20.00 USDT');
                
                if (tg) tg.HapticFeedback.notificationOccurred('success');
            }

            function handleInviteFriend() {
                player.referrals++;
                player.energy = Math.min(getCurrentCapacity(), player.energy + ECONOMY.tasks.referralBonusEnergy);
                showFloating(`+500 ‚ö°`, '#3b82f6');
                updateUI();
                
                // –ö–æ–ø–∏—Ä—É–µ–º —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É
                const inviteText = `–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ Trust Tap! üëá\nhttps://t.me/YourBot?start=ref_${player.referrals}`;
                
                if (tg) {
                    tg.showPopup({
                        title: '–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞',
                        message: '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ! –û—Ç–ø—Ä–∞–≤—å –¥—Ä—É–≥—É:',
                        buttons: [{ type: 'close' }]
                    });
                    navigator.clipboard?.writeText(inviteText);
                    tg.HapticFeedback.notificationOccurred('success');
                } else {
                    navigator.clipboard?.writeText(inviteText);
                    alert('‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞! +500 —ç–Ω–µ—Ä–≥–∏–∏');
                }
            }

            // ========== –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø –ü–†–û–ì–†–ï–°–£ ==========
            function saveProgress() {
                if (!tg) {
                    showMessage('‚ùå –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ Telegram', false);
                    return;
                }
                
                const gameData = {
                    balance: player.balance,
                    damageLevel: player.damageLevel,
                    capacityLevel: player.capacityLevel,
                    recoveryLevel: player.recoveryLevel,
                    energy: player.energy,
                    referrals: player.referrals
                };
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç–∞
                tg.sendData(JSON.stringify(gameData));
                
                tg.HapticFeedback.notificationOccurred('success');
                showMessage('‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω!');
            }

            // ========== –§–û–ù –ó –ë–£–ö–í–ê–ú–ò T ==========
            function createHandwrittenBg() {
                const bgContainer = document.getElementById('handwrittenBg');
                if (!bgContainer) return;
                
                bgContainer.innerHTML = '';
                
                for (let i = 0; i < 60; i++) {
                    const span = document.createElement('span');
                    span.textContent = 'T';
                    
                    span.style.left = Math.random() * 100 + '%';
                    span.style.top = Math.random() * 100 + '%';
                    span.style.setProperty('--r', (Math.random() * 60) - 30);
                    span.style.setProperty('--d', Math.random() * 5);
                    span.style.fontSize = (0.8 + Math.random() * 1.2) + 'rem';
                    span.style.opacity = 0.2 + Math.random() * 0.3;
                    
                    bgContainer.appendChild(span);
                }
            }

            // ========== –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø ==========
            function init() {
                createHandwrittenBg();
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
                if (tg?.initDataUnsafe?.start_param) {
                    const startParam = tg.initDataUnsafe.start_param;
                    if (startParam.startsWith('ref_')) {
                        player.referrals++;
                        player.energy = Math.min(getCurrentCapacity(), player.energy + 500);
                        showMessage('üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –í—ã –ø—Ä–∏—à–ª–∏ –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ! +500 ‚ö°');
                    }
                }
                
                // –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω
                player.energy = getCurrentCapacity();
                
                // –û–±—Ä–æ–±–Ω–∏–∫ —Ç–∞–ø–∞
                document.getElementById('tapButton').addEventListener('click', handleTap);
                
                // –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –ø–æ–∫—Ä–∞—â–µ–Ω—å
                document.querySelectorAll('.upgrade-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const type = e.target.dataset.type;
                        purchaseUpgrade(type);
                    });
                });
                
                // –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –∑–∞–≤–¥–∞–Ω—å
                document.querySelectorAll('.task-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const task = e.target.dataset.task;
                        
                        switch(task) {
                            case 'subscribe':
                                handleTaskSubscribe();
                                break;
                            case 'ad':
                                handleTaskAd();
                                break;
                            case 'futures':
                                handleTaskFutures();
                                break;
                            case 'blum':
                                showMessage('‚ùå –ö–≤–µ—Å—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ', false);
                                break;
                        }
                    });
                });
                
                // –Ü–Ω—à—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏
                document.getElementById('topRefBar').addEventListener('click', handleInviteFriend);
                
                // –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
                document.getElementById('saveProgressBtn').addEventListener('click', saveProgress);
                
                document.getElementById('rankCard').addEventListener('click', () => {
                    showMessage('üèÜ –í–∞—à —Ä–∞–Ω–≥: –±—Ä–æ–Ω–∑–∞');
                });
                
                document.getElementById('referralsCard').addEventListener('click', () => {
                    showMessage('üë• –í–∞—à–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã: ' + player.referrals);
                });
                
                // –†–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –µ–Ω–µ—Ä–≥—ñ—ó
                setInterval(() => {
                    const maxEnergy = getCurrentCapacity();
                    if (player.energy < maxEnergy) {
                        player.energy = Math.min(maxEnergy, player.energy + getCurrentRecovery());
                        updateUI();
                    }
                }, 1000);
                
                updateUI();
                console.log('‚úÖ Trust Wallet –∑ –µ–∫–æ–Ω–æ–º—ñ–∫–æ—é USDT');
            }

            init();
        })();
    </script>
</body>
</html>